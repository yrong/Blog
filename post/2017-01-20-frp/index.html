<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>Reactive Programming with Spring Reactor - yrong blog</title>
  <meta property="og:title" content="Reactive Programming with Spring Reactor - yrong blog" />
  <meta name="twitter:title" content="Reactive Programming with Spring Reactor - yrong blog" />
  <meta name="description" content="reactive programming with spring reactor">
  <meta property="og:description" content="reactive programming with spring reactor">
  <meta name="twitter:description" content="reactive programming with spring reactor">
  <meta name="author" content="Ronyang"/>
  <meta property="og:site_name" content="yrong blog" />
  <meta property="og:url" content="https://yrong.github.io/blog/post/2017-01-20-frp/" />
  <meta property="og:type" content="article" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.54.0" />

  <link rel="stylesheet" href="/blog/css/style.css" media="all" />
  <link rel="stylesheet" href="/blog/css/syntax.css" media="all" />
  <link rel="stylesheet" href="/blog/css/custom.css" media="all" />

  <script src="/blog/js/script.js"></script>
  <script src="/blog/js/custom.js"></script>
  <script defer src="/blog/js/fontawesome.js"></script>
</head>

<body>

<header class="site-header">
  <nav class="site-navi">
    <h1 class="site-title"><a href="/blog/">yrong blog</a></h1>
    <ul class="site-navi-items">
      <li class="site-navi-item-tags"><a href="/blog/tags/" title="Tags">Tags</a></li>
      <li class="site-navi-item-archives"><a href="/blog/archives/" title="Archives">Archives</a></li>
      <li class="site-navi-item-about"><a href="/blog/about/" title="About">About</a></li>
    </ul>
  </nav>
</header>
<hr class="site-header-bottom">

  <div class="main" role="main">
    <article class="article">
      
      
      <h1 class="article-title">Reactive Programming with Spring Reactor</h1>
      
      <hr class="article-title-bottom">
      <ul class="article-meta">
        <li class="article-meta-date"><time>January 20, 2017</time></li>
        <li class="article-meta-tags">
          <a href="/blog/tags/spring/">
            <i class="fas fa-tag"></i>
            Spring
          </a>&nbsp;
        </li>
        <li class="article-meta-tags">
          <a href="/blog/tags/reactor/">
            <i class="fas fa-tag"></i>
            Reactor
          </a>&nbsp;
        </li>
        <li class="article-meta-tags">
          <a href="/blog/tags/java/">
            <i class="fas fa-tag"></i>
            Java
          </a>&nbsp;
        </li>
        <li class="article-meta-tags">
          <a href="/blog/tags/reactive/">
            <i class="fas fa-tag"></i>
            Reactive
          </a>&nbsp;
        </li>
      </ul>
      
<aside class="toc">
  <nav id="TableOfContents">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#stephane-maldini-join-2016">Stephane Maldini @ JOIN 2016</a></li>
<li><a href="#the-new-normal-that-is-not-new">The new normal that is not new</a></li>
<li><a href="#the-reactive-manifesto">The Reactive Manifesto</a></li>
<li><a href="#latency">Latency</a></li>
<li><a href="#blocking">Blocking</a></li>
<li><a href="#contract">Contract</a></li>
<li><a href="#diy-reactive-streams">DIY Reactive Streams</a></li>
<li><a href="#3-years-to-mature">3 Years to Mature</a></li>
<li><a href="#reactive-types">Reactive Types</a>
<ul>
<li><a href="#flux-vs-observable">Flux vs Observable</a></li>
<li><a href="#mono">Mono</a></li>
</ul></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#debug">Debug</a></li>
<li><a href="#more-cool-stuff">More cool stuff</a>
<ul>
<li><a href="#parallelflux">ParallelFlux</a></li>
<li><a href="#bridge-existing-async-code">Bridge Existing Async code</a></li>
<li><a href="#create-gateways-to-flux-and-mono">Create Gateways to Flux and Mono</a></li>
<li><a href="#optimizations">Optimizations</a></li>
<li><a href="#a-simpler-api">A Simpler API</a></li>
</ul></li>
<li><a href="#rxjava">RxJava</a></li>
<li><a href="#spring-framework-5">Spring Framework 5</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</nav>
</aside>
      <p>reactive programming with spring reactor</p>

<h1 id="overview">Overview</h1>

<ul>
<li><a href="#join">Stephane Maldini @ JOIN</a></li>
<li><a href="#the-new-normal">The new normal that is not new</a></li>
<li><a href="#the-manifesto">The Reactive Manifesto</a></li>
<li><a href="#latency">Latency &amp; Blocking</a></li>
<li><a href="#contract">The Contract</a></li>
<li><a href="#reactive-types">Reactive Types</a></li>
<li><a href="#testing">Testing &amp; Debuging</a></li>
<li><a href="#changes">Other Changes</a></li>
<li><a href="#rxjava">RxJava</a></li>
<li><a href="#spring-5">Spring Framework 5</a></li>
<li><a href="#conclusion">Conclusion &amp; Do It Yourself</a></li>
</ul>

<p><a name="join" /></p>

<h1 id="stephane-maldini-join-2016">Stephane Maldini @ JOIN 2016</h1>

<p>On 5 October 2016, we had the pleasure to welcome Stephane Maldini at our <a href="https://ordina-jworks.github.io/conferences/2016/09/27/JOIN-2016.html">JOIN event</a>.</p>

<p><span class="image left small"><img class="p-image" src="{{ '/img/stephane-maldini.jpeg' | prepend: site.baseurl }}" alt="Stephane Maldini"/></span></p>

<p>A multi-tasker eating tech <sup>24</sup>&frasl;<sub>7</sub>, Stephane is interested in cloud computing, data science and messaging.
Leading the Reactor Project, Stephane Maldini is on a mission to help developers create reactive and efficient architectures on the JVM and beyond.
He is also one of the main contributors for Reactive support in the upcoming Spring 5 framework, which can be seen as the new standard for reactive applications in the Java world.</p>

<blockquote>
<p>You can rewatch his <a href="https://www.youtube.com/watch?v=RU0yQhfybDg">talk</a> on on our <a href="https://www.youtube.com/channel/UCsebfWdqV7LqNNDMDvCESIA">Channel</a> on Youtube.</p>
</blockquote>

<p><a name="the-new-normal" /></p>

<h1 id="the-new-normal-that-is-not-new">The new normal that is not new</h1>

<p>It has been around for 30-40 years and boils down to <a href="https://en.wikipedia.org/wiki/Event-driven_programming">Event-Driven Programming</a>
What is new is &ldquo;reactive motion bound to specification&rdquo;, this means that reactive programming is based on something solid, a specification and no longer some functional concepts.
Namely the <a href="http://www.reactivemanifesto.org/">Reactive Manifesto</a>.</p>

<p>Because of this specification, Spring found it the right time to start with <a href="https://spring.io/blog/2013/05/13/reactor-a-foundation-for-asynchronous-applications-on-the-jvm">Reactor</a> as they could now build something, which would be able to work and where it was clear what people could expect.</p>

<p><a name="the-manifesto" /></p>

<h1 id="the-reactive-manifesto">The Reactive Manifesto</h1>

<p>
  <img class="image fit" alt="Reactive Systems Traits" src="/img/reactive/reactive-traits.png">
</p>

<p>According to the manifesto, reactive systems are</p>

<ul>
<li><strong>Responsive</strong>: respond in a timely manner if at all possible, responsiveness means that problems can be detected quickly and dealt with accordingly.</li>
<li><strong>Resilient</strong>: remain responsive in the event of failure, failures are contained with each component isolating components from each other.</li>
<li><strong>Elastic</strong>: stay responsive under varying workload, reactive systems can react to changes in the input rate by increasing or decreasing the resources allocated to services.</li>
<li><strong>Message Driven</strong>: rely on asynchronous message-passing to establish a boundary between components that ensures loose coupling, isolation and location transparency.</li>
</ul>

<p>This boundary also provides the means to delegate failures as messages.</p>

<p>Systems built as reactive systems are thus more flexible, loosely-coupled and scalable.
This makes them easier to develop and to allow changes.
They are significantly more tolerant of failure and when failure does occur they meet it with elegance rather than disaster.</p>

<p><a name="latency" /></p>

<h1 id="latency">Latency</h1>

<p>Latency is also a real issue, the real physical distance of various components and services becomes more important with cloud based systems.
This is also a very random number which is difficult to predict because it can depend on network congestion.
With <a href="https://github.com/openzipkin/zipkin">Zipkin</a>, you can measure this latency.</p>

<p>The same latency can also exist within an application - between the different threads - although the impact will be less severe than between various components.</p>

<p>Something needs to be done when latency becomes too big of an issue, especially if the receiver can not process enough.
Too much data will fill up the buffer and can result, with an unbounded queue, to the infamous <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/OutOfMemoryError.html">OutOfMemoryException()</a>.
While you won&rsquo;t run out of memory with a circular buffer, you risk losing messages as the oldest ones get overwritten.</p>

<h1 id="blocking">Blocking</h1>

<p>One way to prevent out of memory exceptions is to use blocking.</p>

<p>But this can be a real <em>poison pill</em>: when a queue is full, it will block a thread and as more and more queues get blocked your server will die a slow death.</p>

<p>Blocking is faster and has better performance, than reactive, but reactive will allow for more concurrency.
Concurrency is important if you have a microservice based architecture, as there you typically need to be more careful and more exact when allocating resources between services.</p>

<p>As in, by being more concurrent you can save a lot of money when using cloud and microservices.</p>

<p><a name ="contract" /></p>

<h1 id="contract">Contract</h1>

<p>Reactive is non-blocking and messages will never overflow the queue, see for the standard definition <a href="http://www.reactive-streams.org/">http://www.reactive-streams.org/</a>.</p>

<blockquote>
<p>Created by Pivotal, Typesafe, Netflix, Oracle, Red Hat and others.</p>
</blockquote>

<p>The scope of Reactive Streams is to find a minimal set of interfaces, methods and protocols that will describe the necessary operations and entities to achieve the goal—asynchronous streams of data with non-blocking <a href="http://www.reactivemanifesto.org/glossary#Back-Pressure">back-pressure</a>.
With back-pressure, a consumer which can not handle the load of events sends towards it, can communicate this towards the upstream components so these can reduce the load.
Without back-pressure the consumer would either fail catastrophically or drop events.</p>

<p>
  <img class="image left"  alt="reactive contract" src="/img/reactive/reactive-contract.png">
</p>

<p>This contract defines to send data <code>0 .. N</code>.
<a href="http://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/org/reactivestreams/Publisher.html">Publisher</a> is an interface with a <code>subscribe()</code> method.
<a href="http://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/org/reactivestreams/Subscriber.html">Subscriber</a> has 4 callback methods:
<code>onSubscribe()</code>, <code>onNext()</code> (which can be called 0 to N times), <code>onComplete()</code> and <code>onError()</code>.
The last two signals (complete and error) are terminal states, no further signals may occur and the subscriber&rsquo;s subscription is considered cancelled.</p>

<p>What is important is the reverse flow and the back-pressure.
After subscribing, the subscriber gets a subscription which is a kind of 1 on 1 relationship between the subscriber and the publisher with 2 methods: <code>request</code> and <code>cancel</code>.</p>

<ul>
<li><strong>Request</strong>: this is the more important one, with this method the subscriber will ask the publisher to send x messages (and not more), a so called <code>pull</code>.</li>
<li><strong>Cancel</strong>: the subscription is being cancelled.</li>
</ul>

<p>Spring Reactor focuses on the publisher side of the reactive streaming, as this is the hardest to implement and to get right.
It provides you with the tools to implement publishers in a back-pressure way.</p>

<p>The publisher is a provider of a potentially unbounded number of sequenced elements, publishing them according to the demand received from its Subscriber(s).</p>

<p>The Reactive Streams specification has been adopted for <a href="http://gee.cs.oswego.edu/dl/jsr166/dist/docs/java/util/concurrent/Flow.html">java 9</a>.</p>

<h1 id="diy-reactive-streams">DIY Reactive Streams</h1>

<p>Implementing a Reactive Stream framework yourself is very hard to do, for Stephane Maldini this is the 4th or 5th attempt.
For Davik Karnok, the tech lead of RxJava, it is attempt 7 or 8.
The main difficulty is to make it side effect free.</p>

<p>For example:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Publisher<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> rick <span style="color:#f92672">=</span> userRepository<span style="color:#f92672">.</span><span style="color:#a6e22e">findUser</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;rick&#34;</span><span style="color:#f92672">);</span></code></pre></div>

<p>Note that a publisher is returned instead of directly returning the entity.
By doing so it does not block the subscribers when querying for the user and the publisher will produce the user when ready.</p>

<p>But by using the specification as is, your publisher might produce 0, 1 or N users, returning an <code>Iterable</code> as result.
This is not really practical to work with, as most of the time we are only interested in a single user and not a stream of multiple results.
When you would be building the method <code>findOneUser()</code> you also would not want to return an <code>Iterable</code> but just a single <code>User</code>.</p>

<p>Also you will have to implement a subscriber to define the action to perform when the result is available.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">rick<span style="color:#f92672">.</span><span style="color:#a6e22e">subscribe</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Subscriber<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;(){...});</span></code></pre></div>

<p>Implementing this subscriber would not be that hard, because the specification has been made so that all complexity lies at the publishers side.</p>

<p>Another issue is that you can only subscribe on the publisher, there are no other methods available like <a href="http://martinfowler.com/articles/collection-pipeline/map.html">map</a>, <a href="http://martinfowler.com/articles/collection-pipeline/flat-map.html">flatmap</a>, &hellip;</p>

<p>The other point is that when designing your own API you will also have to deal with the following issues:</p>

<ul>
<li>Should work with <a href="https://jcp.org/en/jsr/detail?id=311">RS TCK</a> (otherwise it might not work with other libraries as well)</li>
<li>Address reentrance</li>
<li>Address thread safety</li>
<li>Address efficiency</li>
<li>Address state</li>
<li>For Many-To-One flows, implement your own merging operation</li>
<li>For One-To-Many flows, implement your own broadcasting operation</li>
<li>&hellip;</li>
</ul>

<blockquote>
<p>This is all very hard to do yourself.</p>
</blockquote>

<h1 id="3-years-to-mature">3 Years to Mature</h1>

<p>It took Spring Reactor 3 years to mature.</p>

<p><img alt="Spring Reactor Timeline" src="/img/reactive/spring-reactor-timeline.png" class="image fit"></p>

<p>2.0 was not side effect free - also existential questions were raised around the project.
At the same time Spring evolved and microservices became the norm.</p>

<p>Spring needs to work nicely with these microservices, concurrency is important, can Reactor not be used for that?</p>

<p>With 3.0 the team wanted to focus on microservices, take some ideas from <a href="https://netflix.github.io/">Netflix OSS</a> and implement these in a pragmatic way.
Actually Reactor 3 was started as 2.5, but so many new features were added that the version had to be changed as well in order to reflect this.</p>

<p>Since 3.0 Spring Reactor has been made more modular and consists of several components:
<p>
  <img alt="Spring Reactor Components" src="/img/reactive/spring-reactor-components.png" class="image fit">
</p></p>

<ul>
<li><a href="https://github.com/reactor/reactor-core">Core</a> is the main library.
Providing a non-blocking Reactive Streams foundation for the JVM both implementing a <a href="https://github.com/Reactive-Extensions">Reactive Extensions</a> inspired API and efficient message-passing support.</li>
<li><a href="https://github.com/reactor/reactor-ipc">IPC</a>: back-pressure-ready components to encode, decode, send (unicast, multicast or request/response) and serve connections.
Here you will find support for <a href="https://kafka.apache.org">Kafka</a> and <a href="http://netty.io">Netty</a>.</li>
<li><a href="https://github.com/reactor/reactor-addons">Addons</a>: Bridge to RxJava 1 or 2 Observable, Completable, Flowable, Single, Maybe, Scheduler, and also Swing/SWT Scheduler, Akka Scheduler.</li>
<li><a href="https://github.com/reactor/reactive-streams-commons">Reactive Streams Commons</a> is the research project between Spring Reactor and RxJava as both teams had a lot of ideas they wanted to implement.
Lots of effort was put in order to create real working, side-effect free operations.
<a href="https://martinfowler.com/articles/collection-pipeline/flat-map.html">Map</a> and <a href="http://martinfowler.com/articles/collection-pipeline/filter.html">Filtering</a> for example are easy, but mergings, like <a href="https://martinfowler.com/articles/collection-pipeline/flat-map.html">Flatmap</a> are hard to implement side-effect free.
Having a proper implementation in the research project for these operations allowed the team to experiment and make it quite robust.
This project contains Reactive-Streams compliant operators, which in turn are implemented by Spring Reactor and RxJava.
Both the Spring and RxJava teams are very happy with this collaboration and this is still continuing.
When a bug gets fixed in Spring Reactor it will also be fixed in RxJava and vice versa.</li>
</ul>

<p>Everything in Reactor is just reactive streams implementation - which is used for the reactive <a href="https://spring.io/blog/2016/07/28/reactive-programming-with-spring-5-0-m1">story</a> of spring 5.</p>

<p>There also exists an implementation for .NET, <a href="https://github.com/reactor/reactor-core-dotnet">Reactor Core .NET</a> and one for javascript <a href="https://github.com/reactor/reactor-core-js">Reactor Core TypeScript</a>.</p>

<p><a name = "reactive-types" /></p>

<h1 id="reactive-types">Reactive Types</h1>

<h2 id="flux-vs-observable">Flux vs Observable</h2>

<p>
  <img alt="a Flux" src="/img/reactive/flux.png" class="image fit">
</p>

<p>Observable is not implementing Reactive Streams Publisher which means that if you would like to use the Spring 5 <code>save(Publisher&lt;T&gt;)</code> you first have to convert the Observable to a Flowable as you can see in <a href="https://github.com/ReactiveX/RxJava/wiki/What's-different-in-2.0#observable-and-flowable">Observable and Flowable</a>.</p>

<p>This was too much noise for the Spring team, they are less dependant on Android developers so they could go all in with Java 8.</p>

<p>Flux is a Reactive Streams Publisher with basic flow operations, where you start from a static method which will describe how the data will be generated, <a href="http://next.projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#just-T...-">just()</a> is the simplest way</p>

<p>After that you have other operators like <a href="http://next.projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMap-java.util.function.Function-">Flatmap()</a>, <a href="http://next.projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#map-java.util.function.Function-">Map()</a>, &hellip; to work with that data
Some of the method names will be different to RxJava2, but the logic behind these methods has been aligned among RxJava and Spring .</p>

<p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Flux<span style="color:#f92672">.</span><span style="color:#a6e22e">just</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;red&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;white&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;blue&#34;</span><span style="color:#f92672">)</span>
       <span style="color:#f92672">.</span><span style="color:#a6e22e">flatMap</span><span style="color:#f92672">(</span>carRepository:<span style="color:#f92672">:</span>findByColor<span style="color:#f92672">)</span>
       <span style="color:#f92672">.</span><span style="color:#a6e22e">collect</span><span style="color:#f92672">(</span>Result:<span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span><span style="color:#f92672">,</span> Result:<span style="color:#f92672">:</span>add<span style="color:#f92672">)</span>
       <span style="color:#f92672">.</span><span style="color:#a6e22e">doOnNext</span><span style="color:#f92672">(</span>Result:<span style="color:#f92672">:</span>stop<span style="color:#f92672">)</span>
       <span style="color:#f92672">.</span><span style="color:#a6e22e">subscribe</span><span style="color:#f92672">(</span>doWithResult<span style="color:#f92672">);</span>


Interface CarRepository <span style="color:#f92672">{</span>
    Flux<span style="color:#f92672">&lt;</span>Car<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findByColor</span><span style="color:#f92672">(</span>String color<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
This Flux will retrieve all cars which match the color &ldquo;red&rdquo; then those with the color &ldquo;white&rdquo; and finally &ldquo;blue&rdquo;.
So instead of just three elements, after this Flatmap we are going to have a lot more elements.
This is all handled with back-pressure in mind, for example when the flatmap is busy merging data we will not ask for extra records</p>

<p>If the Repository implements Flux as a method signature, it will be picked up automatically as a reactive repository.
This support for Flux will be part of the whole of Spring 5.
Spring Data, Spring Security, Spring MVC, &hellip; are all good candidates who will have this kind of support.</p>

<h2 id="mono">Mono</h2>

<p>
  <img alt="a Mono" src="/img/reactive/mono.png" class="image fit">
</p>

<p>None is like a flux, but will return at most 1 result, so it does have less methods.</p>

<p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Mono<span style="color:#f92672">.</span><span style="color:#a6e22e">delayMillis</span><span style="color:#f92672">(</span>3000<span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>d <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;Spring 4&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">or</span><span style="color:#f92672">(</span>Mono<span style="color:#f92672">.</span><span style="color:#a6e22e">delayMillis</span><span style="color:#f92672">(</span>2000<span style="color:#f92672">).</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>d <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;Spring 5&#34;</span><span style="color:#f92672">))</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">then</span><span style="color:#f92672">(</span>t <span style="color:#f92672">-&gt;</span> Mono<span style="color:#f92672">.</span><span style="color:#a6e22e">just</span><span style="color:#f92672">(</span>t <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; world&#34;</span><span style="color:#f92672">))</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">elapsed</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">subscribe</span><span style="color:#f92672">()</span></code></pre></div>
This Mono will wait for 3 seconds on the &ldquo;call&rdquo; to Spring 4 or 2 seconds on that of Spring 5.
The fastest result will be the one which will be outputted.</p>

<p>The Mono has as advantage over an Observable Future of Java 8 that a Mono will only be triggered if you subscribe to it.
While with an Observable the call to <code>send()</code> will execute the operation.</p>

<p><a name="testing"/></p>

<h1 id="testing">Testing</h1>

<p><code>Block()</code> exists for very specific use cases and for testing.
Never, ever use this in production, as is it blocks your call, which does infer with the Reactive non-blocking statements. ;-)</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Mono<span style="color:#f92672">.</span><span style="color:#a6e22e">delayMillis</span><span style="color:#f92672">(</span>3000<span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>d <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;Spring 4&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">or</span><span style="color:#f92672">(</span>Mono<span style="color:#f92672">.</span><span style="color:#a6e22e">delayMillis</span><span style="color:#f92672">(</span>2000<span style="color:#f92672">).</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>d <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;Spring 5&#34;</span><span style="color:#f92672">))</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">then</span><span style="color:#f92672">(</span>t <span style="color:#f92672">-&gt;</span> Mono<span style="color:#f92672">.</span><span style="color:#a6e22e">just</span><span style="color:#f92672">(</span>t <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; world&#34;</span><span style="color:#f92672">))</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">elapsed</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">block</span><span style="color:#f92672">()</span></code></pre></div>

<p>You can also make use of <a href="ttp://next.projectreactor.io/ext/docs/api/reactor/test/StepVerifier.html">Stepverifier</a> to test Flux, Mono and any other kind of Reactive Streams Publisher.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Test</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">expectElementsWithThenComplete</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    expectSkylerJesseComplete<span style="color:#f92672">(</span>Flux<span style="color:#f92672">.</span><span style="color:#a6e22e">just</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> User<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;swhite&#34;</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">),</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;jpinkman&#34;</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)));</span>
<span style="color:#f92672">}</span></code></pre></div>

<p>Use StepVerifier to check that the flux parameter emits a User with &ldquo;swhite&rdquo; username and another one with &ldquo;jpinkman&rdquo; then completes successfully.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">expectSkylerJesseComplete</span><span style="color:#f92672">(</span>Flux<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> flux<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    StepVerifier<span style="color:#f92672">.</span><span style="color:#a6e22e">create</span><span style="color:#f92672">(</span>flux<span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">expectNextMatches</span><span style="color:#f92672">(</span>user <span style="color:#f92672">-&gt;</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getUsername</span><span style="color:#f92672">().</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;swhite&#34;</span><span style="color:#f92672">))</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">expectNextMatches</span><span style="color:#f92672">(</span>user <span style="color:#f92672">-&gt;</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getUsername</span><span style="color:#f92672">().</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;jpinkman&#34;</span><span style="color:#f92672">))</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">expectComplete</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span></code></pre></div>

<h1 id="debug">Debug</h1>

<p>When you use reactive libraries you will quickly realize that step debugging is hard especially when you try to read your stacktraces, there are a lot of recursive calls taking place.</p>

<p>Before you invoke your operations you can enable an, expensive, debug mode.
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Hooks<span style="color:#f92672">.</span><span style="color:#a6e22e">onOperator</span><span style="color:#f92672">(</span>op <span style="color:#f92672">-&gt;</span> op<span style="color:#f92672">.</span><span style="color:#a6e22e">operatorStacktrace</span><span style="color:#f92672">());</span>

<span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
    Mono<span style="color:#f92672">.</span><span style="color:#a6e22e">just</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">)</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>d <span style="color:#f92672">-&gt;</span> d<span style="color:#f92672">)</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">timestamp</span><span style="color:#f92672">()</span>
        <span style="color:#f92672">.</span> <span style="color:#f92672">...</span>
        
        
<span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStacktrace</span><span style="color:#f92672">()</span>
<span style="color:#f92672">}</span></code></pre></div></p>

<p>When an exception is returned it will contain the exact operation that failed and the backtrace to that operation.</p>

<p>You must enable this <a href="https://projectreactor.io/core/docs/api/reactor/core/publisher/Hooks.OperatorHook.html#operatorStacktrace--">Hooks.onOperator</a> before the operations you want to track.</p>

<p><a name="changes"/></p>

<h1 id="more-cool-stuff">More cool stuff</h1>

<h2 id="parallelflux">ParallelFlux</h2>

<p>If you want to stress test your CPU you can use <a href="http://projectreactor.io/core/docs/api/reactor/core/publisher/ParallelFlux.html">ParallelFlux</a> which will spread the workload in concurrent tasks when possible.</p>

<p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Mono<span style="color:#f92672">.</span><span style="color:#a6e22e">fromCallable</span><span style="color:#f92672">(</span> <span style="color:#f92672">()</span> <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">currentTimeMillis</span><span style="color:#f92672">()</span> <span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">repeat</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">parallel</span><span style="color:#f92672">(</span>8<span style="color:#f92672">)</span> <span style="color:#75715e">//parallelism
</span><span style="color:#75715e"></span>    <span style="color:#f92672">.</span><span style="color:#a6e22e">runOn</span><span style="color:#f92672">(</span>Schedulers<span style="color:#f92672">.</span><span style="color:#a6e22e">parallel</span><span style="color:#f92672">())</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">doOnNext</span><span style="color:#f92672">(</span> d <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;I&#39;m on thread &#34;</span><span style="color:#f92672">+</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">())</span> <span style="color:#f92672">).</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">sequential</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">subscribe</span><span style="color:#f92672">()</span>
    </code></pre></div>
This basically avoids that you have to write flatMap(), where after the parallel(x) you will have exactly x number of Rails or Flux.
Afterwards you can merge these back into a Flux with sequential().</p>

<p>A nice feature is that it keeps the code more readable with everything on a single indentation level.</p>

<p>But the cool part is that it is also very performant, with parallel, Reactor is very close to the bare metal of what the JVM can do as you can see in the below comparisation:</p>

<p class="align-center">
    <img alt="benchmarks" src="/img/reactive/performance-shakespeare.jpg" class="image fit"><br/>
    <a href="https://twitter.com/akarnokd/status/780135681897197568">https://twitter.com/akarnokd/status/780135681897197568</a>
</p>

<h2 id="bridge-existing-async-code">Bridge Existing Async code</h2>

<p>To bridge a Subscriber or Processor into an outside context that is taking care of producing non concurrently, use <code>Flux.create()</code>, <code>Mono.create()</code>, or <code>FluxProcessor.connectSink()</code>.</p>

<p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Mono<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> response <span style="color:#f92672">=</span> Mono<span style="color:#f92672">.</span><span style="color:#a6e22e">create</span><span style="color:#f92672">(</span> sink <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
    HttpListener listener <span style="color:#f92672">=</span> event <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>event<span style="color:#f92672">.</span><span style="color:#a6e22e">getResponseCode</span><span style="color:#f92672">()</span> <span style="color:#f92672">&gt;=</span> 400<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            sink<span style="color:#f92672">.</span><span style="color:#a6e22e">error</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> RunTimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error&#34;</span><span style="color:#f92672">));</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
            String result <span style="color:#f92672">=</span> event<span style="color:#f92672">.</span><span style="color:#a6e22e">getBody</span><span style="color:#f92672">();</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>body<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
                sink<span style="color:#f92672">.</span><span style="color:#a6e22e">succes</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
                sink<span style="color:#f92672">.</span><span style="color:#a6e22e">success</span><span style="color:#f92672">(</span>body<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">};</span>
    client<span style="color:#f92672">.</span><span style="color:#a6e22e">addListener</span><span style="color:#f92672">(</span>listener<span style="color:#f92672">);</span>
    
    emitter<span style="color:#f92672">.</span><span style="color:#a6e22e">setCancellation</span><span style="color:#f92672">(()</span> <span style="color:#f92672">-&gt;</span> client<span style="color:#f92672">.</span><span style="color:#a6e22e">removeListener</span><span style="color:#f92672">(</span>listener<span style="color:#f92672">));</span>

<span style="color:#f92672">});</span></code></pre></div>
This <code>create()</code> allows you to bridge 1 result, which will be returned somewhere in the future, to a Mono.</p>

<p>If you add a Kafka call, for example, where they have this callback so one can return <code>onSuccess</code> and <code>onError</code> you can use <code>Mono.create()</code>:
see <a href="https://github.com/reactor/reactor-kafka">Reactor Kafka</a> where this is used a lot.</p>

<p>Also exists for Flux of N items but it’s tougher and more dangerous as you must explicitly indicate what to do in the case of overflow; keep the latest and risk losing some data or keep everything with the risk of unbounded memory use. ¯\<em>(ツ)</em>/¯</p>

<h2 id="create-gateways-to-flux-and-mono">Create Gateways to Flux and Mono</h2>

<p>There also exist some options to bridge the synchronous world with the Flux and the Mono.</p>

<p>Like for example the <a href="http://projectreactor.io/core/docs/api/?reactor/core/publisher/EmitterProcessor.html">EmitterProcessor</a> which is a signal processor.
<p>
  <img alt="EmitterProcessor" src="/img/reactive/emitterProcessor.png" class="image fit"/>
</p></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">EmitterProcessor<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> emitter <span style="color:#f92672">=</span> EmitterProcessor<span style="color:#f92672">.</span><span style="color:#a6e22e">create</span><span style="color:#f92672">();</span>
BlockingSink<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> sink <span style="color:#f92672">=</span> emitter<span style="color:#f92672">.</span><span style="color:#a6e22e">connectSink</span><span style="color:#f92672">();</span>
sink<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
sink<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">(</span>2<span style="color:#f92672">);</span>
emitter<span style="color:#f92672">.</span><span style="color:#a6e22e">subscribe</span><span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">::</span>println<span style="color:#f92672">);</span>
sink<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">(</span>3<span style="color:#f92672">);</span> <span style="color:#75715e">//output : 3
</span><span style="color:#75715e"></span>sink<span style="color:#f92672">.</span><span style="color:#a6e22e">finish</span><span style="color:#f92672">();</span></code></pre></div>

<p>But you also have:
- <a href="http://projectreactor.io/core/docs/api/?reactor/core/publisher/ReplayProcessor.html">ReplayProcessor</a>, a caching broadcaster.
- <a href="http://projectreactor.io/core/docs/api/?reactor/core/publisher/TopicProcessor.html">TopicProcessor</a>, an asynchronous signal broadcaster
- <a href="http://projectreactor.io/core/docs/api/?reactor/core/publisher/WorkQueueProcessor.html">WorkQueueProcessor</a>, which is similar to the TopicProcessor but distributes the input data signal to the next available Subscriber.</p>

<p>These are all an implementation of a <a href="https://en.wikipedia.org/wiki/Circular_buffer">RingBuffer</a> backed message-passing Processor implementing publish-subscribe with synchronous drain loops.</p>

<h2 id="optimizations">Optimizations</h2>

<p>Operation fusion: Reactor has a mission to limit the overhead in stack and message passing.
They distinguish 2 types of optimization:</p>

<ul>
<li>Macro Fusion: Merge operators in one during assembly time, for example, if the user does <code>.merge()</code> - <code>.merge()</code> - <code>.merge()</code> spring reactor is smart enough to put this in a single <code>.merge()</code></li>
<li>Micro Fusion: Because of the Reactive specification and the asynchronous nature of the response, queues are heavily used, but creating a queue for every request/response is very costly.</li>
</ul>

<p>Spring Reactor will avoid to create queues whenever possible and short circuit during the lifecycle of the request.
They are going to merge the queue from downstream with the one from upstream - hence the name fusion.
If the parent is something we can pull (an Iterable or a queue) then Reactor is going to use the parent as a queue, thus avoiding to create a new queue.
This is very smart to do - but also very complicated to do yourself, because Spring Reactor has this in place you do not have to deal with this hassle..</p>

<h2 id="a-simpler-api">A Simpler API</h2>

<p>Reactor: a Simpler API, the entire framework just fits in 1 jar: reactor-core jar.
Flux and Mono live in the <code>reactor.com.publisher</code> package, <code>reactor.core.scheduler</code> contains the FIFO task executor.</p>

<p>By default the <code>Publisher</code> and <code>Subscriber</code> will use the same thread.
With <code>publishOn()</code> the publisher can force the subscriber to use a different thread, while the subscriber can do the same with <code>subscribeOn()</code>.</p>

<p>For Reactor 3.x there will be more focus on the <a href="http://projectreactor.io/core/docs/api">javadoc</a>, as this has been lagging behind compared to the new features which have been developed.</p>

<p><a name="rxjava" /></p>

<h1 id="rxjava">RxJava</h1>

<p>Why Reactor when there’s already <a href="https://github.com/ReactiveX/RxJava/wiki/What's-different-in-2.0">RxJava2</a>?</p>

<p>RxJava2 is java 6 while for Reactor the Spring team decided to go all in and focus only on Java 8.
This means that you can make use of all the new and fancy Java 8 features.</p>

<p>If you are going to use Spring 5, Reactor might be the better option.</p>

<p>But if you are happy with your RxJava2, there is no direct need to migrate to Reactor.</p>

<p><a name="spring-5" /></p>

<h1 id="spring-framework-5">Spring Framework 5</h1>

<p>It will still be backwards compatible.
You can just take your Spring 4 application, put Spring 5 behind it and you will be good to go.</p>

<p>But with Spring 5 you will be able to make use of the following new components/ <a href="http://docs.spring.io/spring-framework/docs/5.0.0.M1/spring-framework-reference/html/web-reactive.html">Spring Web Reactive</a> and Reactive HTTP.
Which under the hood support <a href="https://java.net/downloads/servlet-spec/Final/servlet-3_1-final.pdf">Servlet 3.1</a>, <a href="http://netty.io/">Netty</a> and <a href="http://undertow.io/">Undertow</a>.</p>

<p>The annotations are still very similar but you just return a Mono, so the User can now be retrieved in a non-blocking way.
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@GetMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/users/{login}&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> Mono<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getUser</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@PathVariable</span> String login<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">repository</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getUser</span><span style="color:#f92672">(</span>login<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div></p>

<p><a name="conclusion" /></p>

<h1 id="conclusion">Conclusion</h1>

<p>Spring Reactor is a very interesting framework, after 3 iterations it has matured and gives you a good base to get started with Reactive Streams.
With the upcoming support in Spring 5 it will also start to become more mainstream.</p>

<p>Therefore I can see no better way then to get your hands dirty and learn more about Spring Reactor yourself.</p>

<ul>
<li><a href="https://spring.io/blog/2016/06/07/notes-on-reactive-programming-part-i-the-reactive-landscape">reactive-programming-part-I</a>:
Provides you with a clear description of what reactive programming is about and its use cases.
But also the different ways about how people have implemented reactive programming (actor model, futures, … ) and more specifially the different frameworks which implement reactive programming in java.
&gt; Frameworks like: <a href="https://projectreactor.io/">Spring Reactor</a>, <a href="http://projects.spring.io/spring-framework/">Spring Framework 5</a>, <a href="https://github.com/ReactiveX/RxJava/wiki">RxJava</a> , <a href="http://akka.io/">Akka</a>, <a href="http://www.reactive-streams.org/">Reactive Streams</a> and <a href="https://ratpack.io/">Ratpack</a>.</li>
<li><a href="https://spring.io/blog/2016/06/13/notes-on-reactive-programming-part-ii-writing-some-code">reactive-programming-part-II</a>:
You will learn the API by writing some code, how to control the flow of data and its processing.</li>

<li><p><a href="https://spring.io/blog/2016/07/20/notes-on-reactive-programming-part-iii-a-simple-http-server-application">reactive-programming-part-III</a>:
Here you will focus on more concrete use case and write something useful, but also on some low level features which you should learn to treat with respect.</p></li>

<li><p><a href="https://github.com/reactor/lite-rx-api-hands-on">reactor-api-hands-on</a>:
This hands-on will help you learn easily the lite Rx API provider by Spring Reactor.
You just have to make the unit tests green.</p></li>

<li><p>On <a href="https://spring.io">spring.io</a> you can find more interesting blog posts which will give you more background around Spring Reactor and provide you with the resources to start coding.</p></li>

<li><p><a href="https://github.com/yrong/reactor-by-example">reactor-by-example</a></p></li>

<li><p><a href="https://github.com/yrong/lite-rx-api-hands-on">lite-rx-api</a></p></li>

<li><p><a href="https://github.com/yrong/projectreactor.io">reactor.io</a></p></li>
</ul>
    </article>

    


    <ul class="pager article-pager">
      <li class="pager-newer">
          <a href="/blog/post/2017-01-30-opentracing/" data-toggle="tooltip" data-placement="top" title="OpenTracing use cases">&lt; Newer</a>
      </li>
      <li class="pager-older">
        <a href="/blog/post/2017-01-10-game-server/" data-toggle="tooltip" data-placement="top" title="leaf&amp;&amp;gonet2&amp;&amp;pomelo">Older &gt;</a>
      </li>
    </ul>
  </div>


<div class="site-footer">
  <div class="copyright">&copy; Copyright 2017 Ronyang</div>
  <ul class="site-footer-items">
    <li class="site-footer-item-about"><a href="/blog/about/" title="About">About</a></li>
  </ul>
  <div class="powerdby">
    Powered by <a href="https://gohugo.io/">Hugo</a> and <a href="https://github.com/taikii/whiteplain">Whiteplain</a>
  </div>
</div>


</body>
</html>
